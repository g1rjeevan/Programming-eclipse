package com.G1.Java.Eg1.Person;

import java.util.Scanner;

import org.hibernate.HibernateException;
import org.hibernate.Session;
import org.hibernate.Transaction;

public class PersonDAO {
	static Scanner scan=new Scanner(System.in);
	PersonDAO pdao=new PersonDAO();

	public void add(PersonDTO pdto){
		System.out.println("Enter the person name");
		String pName=scan.next();
		System.out.println("Enter the gender Male or Female");
		String pGen=scan.next();
		char pGene[]=pGen.toCharArray();
		char pGender=pGene[0];
		System.out.println("Enter the Bloodgroup");
		String pBloodGroup=scan.next();
		System.out.println("Enter the person age");
		int pAge=scan.nextInt();
		System.out.println("Enter the person relationship status");
		String pStatus=scan.next();

		pdto.setpName(pName);
		pdto.setpGender(pGender);
		pdto.setpBloodGroup(pBloodGroup);
		pdto.setpAge(pAge);
		pdto.setpStatus(pStatus);

		Session session=PersonController.sessionReturner();
		Transaction tx=PersonController.tx();

		try{

			session.save(pdto);
			tx.commit();
		}
		catch(HibernateException e){
			e.printStackTrace();
			tx.rollback();
		}
		finally{
			session.close();
		}
	}
	public void delete(PersonDTO pdto){
		System.out.println("Enter the person name");
		String pName=scan.next();

		System.out.println("Enter the person ID");
		int pID=scan.nextInt();

		pdto.setpName(pName);

		pdto.setpId(pID);

	}
	public void update(PersonDTO pdto){

		System.out.println("Enter the person name");
		String pName=scan.next();

		System.out.println("Enter the person ID");
		int pID=scan.nextInt();

		pdto.setpName(pName);

		pdto.setpId(pID);



	}


}
